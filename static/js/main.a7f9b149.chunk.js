(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{29:function(t,e,n){},36:function(t,e,n){},39:function(t,e,n){},40:function(t,e,n){"use strict";n.r(e);var c=n(0),s=n.n(c),r=n(16),a=n.n(r),o=(n(29),n(7)),i=n(13),u=n(5),b=n.n(u),j=n(9),l=n(2),p="https://bloggy-api.herokuapp.com/",d=function(){var t=Object(j.a)(b.a.mark((function t(e){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(p).concat(e));case 2:return n=t.sent,t.abrupt("return",n.json());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=Object(j.a)(b.a.mark((function t(e,n){var c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(p).concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 2:return c=t.sent,t.abrupt("return",c.json());case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),h=function(){var t=Object(j.a)(b.a.mark((function t(e){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(p,"posts/").concat(e),{method:"DELETE"});case 2:return n=t.sent,t.abrupt("return",n.json());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(j.a)(b.a.mark((function t(e){var n,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={title:e.title,body:e.body},c=fetch("".concat(p,"posts/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),t.abrupt("return",c);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=(n(36),n(1)),x=function(){return Object(m.jsx)("h1",{children:"Welcome"})},v=n(12),y=n(3),w=n(14),_=Object(w.b)({name:"counter",initialState:{posts:[],selectedPostId:null},reducers:{showPosts:function(t,e){t.posts=e.payload},selectPost:function(t,e){t.selectedPostId=e.payload}}}),g=(_.actions.showPosts,_.reducer),k=n(17),N=function(t){return t.counter.posts},C=Object(k.a)([N],(function(t){return t})),P=Object(k.a)([function(t){return t.counter.selectedPostId},N],(function(t,e){return null===t?null:e.find((function(e){return e.id===t}))})),S=function(){var t=Object(c.useState)(""),e=Object(y.a)(t,2),n=e[0],s=e[1],r=Object(c.useState)(""),a=Object(y.a)(r,2),i=a[0],u=a[1],b=Object(o.b)(),j=Object(o.c)(C);return Object(m.jsx)("div",{className:"postCreator",children:Object(m.jsxs)("form",{className:"postCreator__form",onSubmit:function(t){t.preventDefault();var e={id:j[j.length-1].id+1,title:n,body:i};b(_.actions.showPosts([].concat(Object(v.a)(j),[e]))),O("posts",e),s(""),u("")},children:[Object(m.jsx)("input",{type:"text",placeholder:"post title",value:n,onChange:function(t){s(t.target.value)}}),Object(m.jsx)("input",{type:"text",placeholder:"post body",value:i,onChange:function(t){u(t.target.value)}}),Object(m.jsx)("button",{type:"submit",children:"Submit"})]})})},E=n(24),F=n.n(E),I=(n(39),function(t){var e=t.id,n=t.title,s=void 0===n?"":n,r=t.body,a=void 0===r?"":r,i=Object(o.b)(),u=Object(c.useState)(!1),l=Object(y.a)(u,2),p=l[0],O=l[1],x=Object(c.useState)(s),v=Object(y.a)(x,2),w=v[0],g=v[1],k=Object(c.useState)(a),N=Object(y.a)(k,2),C=N[0],S=N[1],E=Object(o.c)(P);return Object(m.jsxs)("div",{className:"post",children:[!p&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{children:s}),Object(m.jsx)("p",{children:a}),Object(m.jsx)("button",{className:"post__button",type:"button",onClick:function(){O(!0)},children:"redact post"})]}),p&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("input",{type:"text",value:w,onChange:function(t){return g(t.target.value)}}),Object(m.jsx)("textarea",{value:C,rows:15,onChange:function(t){return S(t.target.value)}}),Object(m.jsx)("button",{type:"button",className:"post__button",onClick:Object(j.a)(b.a.mark((function t(){var n,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={id:e,title:w,body:C},t.next=3,f(n);case 3:return t.next=5,d("posts");case 5:c=t.sent,i(_.actions.showPosts(c)),O(!1);case 8:case"end":return t.stop()}}),t)}))),children:"submit changes"})]}),Object(m.jsx)("button",{type:"button",className:"post__button",onClick:function(){null===E||E.id!==e?i(_.actions.selectPost(e)):i(_.actions.selectPost(null))},children:E?"Close post":"Show more"}),Object(m.jsx)("button",{type:"button",className:"post__button",onClick:Object(j.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e);case 2:return t.t0=i,t.t1=_.actions,t.next=6,d("posts");case 6:t.t2=t.sent,t.t3=t.t1.showPosts.call(t.t1,t.t2),(0,t.t0)(t.t3);case 9:case"end":return t.stop()}}),t)}))),children:"Delete Post"})]})}),T=function(t){var e=t.id,n=Object(c.useState)([]),s=Object(y.a)(n,2),r=s[0],a=s[1],o=Object(c.useState)(""),i=Object(y.a)(o,2),u=i[0],l=i[1];return Object(c.useEffect)((function(){(function(){var t=Object(j.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d("posts/".concat(e,"?_embed=comments"));case 2:n=t.sent,a(n.comments);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(m.jsxs)("div",{className:"comments",children:[Object(m.jsx)("h1",{className:"comments__title",children:"Comment section"}),Object(m.jsxs)("div",{className:"comments__body",children:[r.map((function(t){return Object(m.jsx)("p",{className:"comments__body--text",children:t.body},t.id)})),Object(m.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={postId:e,body:u};O("comments",n),a([].concat(Object(v.a)(r),[n]))},children:[Object(m.jsx)("input",{type:"text",value:u,onChange:function(t){l(t.target.value)}}),Object(m.jsx)("button",{type:"submit",children:"send"})]})]})]})},D=function(){var t=Object(o.c)(C),e=Object(o.c)(P),n=Object(c.useState)(!1),s=Object(y.a)(n,2),r=s[0],a=s[1];return Object(m.jsx)("div",{className:F()({empty:!r},{posts__container:r}),children:r?null===e?t.map((function(t){return Object(m.jsx)(I,{id:t.id,title:t.title,body:t.body},t.id)})):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(I,{id:e.id,title:e.title,body:e.body},e.id),Object(m.jsx)(T,{id:e.id})]}):Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("button",{type:"button",onClick:function(){a(!0)},children:"show me posts"})})})},J=function(){var t=Object(o.b)();return Object(c.useEffect)((function(){(function(){var e=Object(j.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d("posts");case 2:n=e.sent,t(_.actions.showPosts(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("header",{children:Object(m.jsxs)("div",{className:"navigation",children:[Object(m.jsx)(i.b,{className:"navigation__link",to:"/",children:"Home"}),Object(m.jsx)(i.b,{className:"navigation__link",to:"/posts",children:"Posts"}),Object(m.jsx)(i.b,{className:"navigation__link",to:"/post_creator",children:"Create Post"})]})}),Object(m.jsxs)(l.c,{children:[Object(m.jsx)(l.a,{path:"/",element:Object(m.jsx)(x,{})}),Object(m.jsx)(l.a,{path:"/posts",element:Object(m.jsx)(D,{})}),Object(m.jsx)(l.a,{path:"/post_creator",element:Object(m.jsx)(S,{})})]})]})},B=Object(w.a)({reducer:{counter:g}});a.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(o.a,{store:B,children:Object(m.jsx)(i.a,{children:Object(m.jsx)(J,{})})})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.a7f9b149.chunk.js.map