(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{28:function(t,e,n){},35:function(t,e,n){},38:function(t,e,n){},39:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),s=n(16),o=n.n(s),a=(n(28),n(7)),u=n(13),i=n(5),j=n.n(i),b=n(9),p=n(2),l="https://bloggy-api.herokuapp.com/",d=function(){var t=Object(b.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(l).concat(e));case 2:return n=t.sent,t.abrupt("return",n.json());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=Object(b.a)(j.a.mark((function t(e,n){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(l).concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 2:return c=t.sent,t.abrupt("return",c.json());case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),h=function(){var t=Object(b.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(l,"posts/").concat(e),{method:"DELETE"});case 2:return n=t.sent,t.abrupt("return",n.json());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(b.a)(j.a.mark((function t(e){var n,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={title:e.title,body:e.body},c=fetch("".concat(l,"posts/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),t.abrupt("return",c);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=(n(35),n(1)),m=function(){return Object(x.jsx)("h1",{children:"Welcome"})},v=n(12),y=n(3),w=n(14),g=Object(w.b)({name:"counter",initialState:{posts:[],selectedPostId:null},reducers:{showPosts:function(t,e){t.posts=e.payload},selectPost:function(t,e){t.selectedPostId=e.payload}}}),k=(g.actions.showPosts,g.reducer),P=n(17),S=function(t){return t.counter.posts},C=Object(P.a)([S],(function(t){return t})),E=Object(P.a)([function(t){return t.counter.selectedPostId},S],(function(t,e){return null===t?null:e.find((function(e){return e.id===t}))})),T=function(){var t=Object(c.useState)(""),e=Object(y.a)(t,2),n=e[0],r=e[1],s=Object(c.useState)(""),o=Object(y.a)(s,2),u=o[0],i=o[1],j=Object(a.b)(),b=Object(a.c)(C);return Object(x.jsx)("div",{children:Object(x.jsxs)("form",{onSubmit:function(t){t.preventDefault();var e={id:b[b.length-1].id+1,title:n,body:u};j(g.actions.showPosts([].concat(Object(v.a)(b),[e]))),O("posts",e)},children:[Object(x.jsx)("input",{type:"text",placeholder:"post title",value:n,onChange:function(t){r(t.target.value)}}),Object(x.jsx)("input",{type:"text",placeholder:"post body",value:u,onChange:function(t){i(t.target.value)}}),Object(x.jsx)("button",{type:"submit",children:"Submit"})]})})},F=(n(38),function(t){var e=t.id,n=t.title,r=void 0===n?"":n,s=t.body,o=void 0===s?"":s,u=Object(a.b)(),i=Object(c.useState)(!1),p=Object(y.a)(i,2),l=p[0],O=p[1],m=Object(c.useState)(r),v=Object(y.a)(m,2),w=v[0],k=v[1],P=Object(c.useState)(o),S=Object(y.a)(P,2),C=S[0],T=S[1],F=Object(a.c)(E);return Object(x.jsxs)("div",{className:"post",children:[!l&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:r}),Object(x.jsx)("p",{children:o}),Object(x.jsx)("button",{type:"button",onClick:function(){O(!0)},children:"redact post"})]}),l&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("input",{type:"text",value:w,onChange:function(t){return k(t.target.value)}}),Object(x.jsx)("textarea",{value:C,rows:15,onChange:function(t){return T(t.target.value)}}),Object(x.jsx)("button",{type:"button",onClick:Object(b.a)(j.a.mark((function t(){var n,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={id:e,title:w,body:C},t.next=3,f(n);case 3:return t.next=5,d("posts");case 5:c=t.sent,u(g.actions.showPosts(c)),O(!1);case 8:case"end":return t.stop()}}),t)}))),children:"submit changes"})]}),Object(x.jsx)("button",{type:"button",onClick:function(){null===F||F.id!==e?u(g.actions.selectPost(e)):u(g.actions.selectPost(null))},children:F?"Close post":"Show more"}),Object(x.jsx)("button",{type:"button",onClick:Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e);case 2:return t.t0=u,t.t1=g.actions,t.next=6,d("posts");case 6:t.t2=t.sent,t.t3=t.t1.showPosts.call(t.t1,t.t2),(0,t.t0)(t.t3);case 9:case"end":return t.stop()}}),t)}))),children:"Delete Post"})]})}),I=function(t){var e=t.id,n=Object(c.useState)([]),r=Object(y.a)(n,2),s=r[0],o=r[1],a=Object(c.useState)(""),u=Object(y.a)(a,2),i=u[0],p=u[1];return Object(c.useEffect)((function(){(function(){var t=Object(b.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d("posts/".concat(e,"?_embed=comments"));case 2:n=t.sent,o(n.comments);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(x.jsxs)("div",{className:"comments",children:[s.map((function(t){return Object(x.jsx)("p",{children:t.body},t.id)})),Object(x.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={postId:e,body:i};O("comments",n),o([].concat(Object(v.a)(s),[n]))},children:[Object(x.jsx)("input",{type:"text",value:i,onChange:function(t){p(t.target.value)}}),Object(x.jsx)("button",{type:"submit",children:"send"})]})]})},N=function(){var t=Object(a.c)(C),e=Object(a.c)(E),n=Object(c.useState)(!1),r=Object(y.a)(n,2),s=r[0],o=r[1];return Object(x.jsx)("div",{className:"posts__container",children:s?null===e?t.map((function(t){return Object(x.jsx)(F,{id:t.id,title:t.title,body:t.body},t.id)})):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(F,{id:e.id,title:e.title,body:e.body},e.id),Object(x.jsx)(I,{id:e.id})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("button",{type:"button",onClick:function(){o(!0)},children:"show me posts"}),Object(x.jsx)("p",{children:"There is no posts right now :c"})]})})},_=function(){var t=Object(a.b)();return Object(c.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d("posts");case 2:n=e.sent,t(g.actions.showPosts(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("header",{children:[Object(x.jsx)(u.b,{to:"/",children:"Home"}),Object(x.jsx)(u.b,{to:"/posts",children:"Posts"}),Object(x.jsx)(u.b,{to:"/post_creator",children:"Create Post"})]}),Object(x.jsxs)(p.c,{children:[Object(x.jsx)(p.a,{path:"/",element:Object(x.jsx)(m,{})}),Object(x.jsx)(p.a,{path:"/posts",element:Object(x.jsx)(N,{})}),Object(x.jsx)(p.a,{path:"/post_creator",element:Object(x.jsx)(T,{})})]})]})},D=Object(w.a)({reducer:{counter:k}});o.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(a.a,{store:D,children:Object(x.jsx)(u.a,{children:Object(x.jsx)(_,{})})})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.a0fb7809.chunk.js.map